# Danbooru crawler by artist tag

Danbooru (https://danbooru.donmai.us/) のデータをアーティストタグで検索してデータを拾うツールです。  
簡単なプレビュー機能も備えています。

## 動作条件

OS：Windows 11 24H2以上  
Python のバージョン： 3.14 (でしか動作確認していません)  
画面サイズ：1280x720 以上  

## セットアップ方法

以下いずれかの方法でセットアップしてください。

### 1. pythonスクリプトのまま利用する

`start.bat` を実行するとpythonスクリプトをそのまま実行します。

### 2. EXE化して利用する

`deploy.bat` を実行すると、distディレクトリに `DanbooruCrawlerByArtistTag.exe` が出来上がります。  
お好きな場所に持って行ってexeを実行してください。

## 使い方

まず上部メニューの「設定」→「アカウント」からご自身のDanbooruのアカウントとAPIキーを設定してください。  
その後、左上の検索ボックスにアーティストタグを入れて検索ボタンを押すと右側にアーティスト情報が表示されます。  
あとはダウンロードボタンを押せば`output`ディレクトリにアーティストタグのディレクトリが作られて、その中に画像やタグ情報が書かれたテキストが保存されます。  

※一度取得したファイルについては再取得しないようになっています。  
　個別にダウンロードしなおしたいファイルが存在する場合は、手動でファイルを削除してください。

## プレビューについて

ダウンロード済みのファイルは左メニューにリスト化されます。  
それをクリックすると右側にプレビューウインドウが表示されます。  
表示されている画像などのファイル名をクリックすると、それに対応したタグ情報とともにプレビューされます。  
プレビューに対応しているのは`jpeg`, `png`, `gif`, `webp`です。  
mp4ファイルやzipファイルなどもdanbooruには登録されており、ダウンロード時に取得はされますが、それらのファイルはプレビューできません。

## タグ情報のテキストについて

Danbooruから取得してきたままでは少々扱いにくいと感じたので、以下の加工をしています。
- 半角スペース区切りからカンマ区切りに変換
- 単語の_区切りを半角スペース区切りに変換
- アーティストタグを先頭に移動